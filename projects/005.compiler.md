# 1.resources

* [哈工大《编译原理》视频教程](https://www.bilibili.com/video/av17649289?p=7)
* [LLVM官网资料(实现一个编译器demo)](http://llvm.org/docs/tutorial/)

# 2.tools
**golang**

* goyacc: golang yacc tool
* example: https://github.com/z-rui/interp2 使用golang自带的scanner做词法分析
* example: https://github.com/golang/tools/blob/master/cmd/goyacc/testdata/expr/expr.y
* golang自带词法分析：https://github.com/golang/go/tree/master/src/text/scanner


**python**

* ply: python lex-yacc https://www.dabeaz.com/ply/ply.html. 
* example: https://www.dabeaz.com/ply/example.html
* [《python Lex Yacc 手册》](https://www.kancloud.cn/kancloud/ply/42113)

# Notes

以下笔记基于[哈工大《编译原理》视频教程](https://www.bilibili.com/video/av17649289?p=7)。

- [1.resources](#1resources)
- [2.tools](#2tools)
- [Notes](#notes)
  - [1.语法分析](#1语法分析)
    - [1.0.基本概念相关](#10基本概念相关)
      - [1.0.0.文法](#100文法)
      - [1.0.1.分析树](#101分析树)
      - [1.0.2.自顶向下](#102自顶向下)
      - [1.0.3.自底向上](#103自底向上)
      - [1.0.4.左递归](#104左递归)
    - [1.1.自顶向下语法分析](#11自顶向下语法分析)
      - [1.1.1.最左推导](#111最左推导)
      - [1.1.2.最右推导](#112最右推导)
      - [1.1.3.消除左递归](#113消除左递归)
    - [1.2.自底向上语法分析](#12自底向上语法分析)
      - [1.2.1.LR分析法](#121lr分析法)
      - [1.2.2.LALR分析法](#122lalr分析法)
      - [1.2.3.二义性文法LR分析](#123二义性文法lr分析)

## 1.语法分析

### 1.0.基本概念相关
#### 1.0.0.文法
文法的形式化定义：
* $N$ 有限个非终结符的集合；
* $\Sigma$ 有限个终结符的集合；
* $P$ 有限个生产规则(产生式)的集合；
* $S$ 非终结符集合中唯一的开始符号；
  
文法被定义成一个四元组$(N, \Sigma, P, S)$，产生式的示例：

* $A -> aAb$
* $A -> ab$
* $A -> \epsilon$
  
$\epsilon$表示为空，由此可以产生出`ab`, `aabb`, `aaa..bbb`等字符串。


#### 1.0.1.分析树

以下面的文法和输入为例：
文法：
```
E-> E + E
E-> E * E
E-> (E)
E-> id
```
输入：
```
id + (id + id)
```

对应的分析树：
```
        E
       / \
      E + E
      |   /|\
      id ( E )
          /|\
        E  +  E
        |     |
        id    id
```

#### 1.0.2.自顶向下
自顶向下也就是按照从分析树的**根节点向叶节点**的方向，即从顶部向底部构造分析树。

#### 1.0.3.自底向上
与自顶向下相反，自底向上也就是按照从分析树的**叶节点向根节点**的方向，即从底部向根部构造分析树。

#### 1.0.4.左递归
左递归文法示例：
```
E -> E + T
  -> E + T + T
  -> E + T + T + T
  -> ...
```
像上面这种含有 A->A$\alpha$ 形式产生式的文法称为是直接左递归的(immediate left recursive).

若一个非终结符号（non-terminal） A 有任何直接的文法规则或者透过多个文法规则，推导出的句型（sentential form）其中最左边的符号又会出现 A ，则我们说这个非终结符号 A 是左递归的。

经过两步或者两步以上推导产生的左递归称为是间接左递归的。

### 1.1.自顶向下语法分析
#### 1.1.1.最左推导
#### 1.1.2.最右推导
#### 1.1.3.消除左递归

### 1.2.自底向上语法分析
#### 1.2.1.LR分析法
#### 1.2.2.LALR分析法
#### 1.2.3.二义性文法LR分析